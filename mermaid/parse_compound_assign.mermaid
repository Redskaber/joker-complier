flowchart TD
    A[开始] --> B{是否允许赋值}
    B -->|否| C[报错并退出]
    B -->|是| D[获取左值和运算符]
    D --> E[解析右侧表达式]
    E --> F{运算符类型}
    F -->|加等于| G[生成加法指令]
    F -->|减等于| H[生成减法指令]
    F -->|乘等于| I[生成乘法指令]
    F -->|除等于| J[生成除法指令]
    F -->|其他| K[生成其他运算指令]
    F -->|不支持| L[报错]
    G --> M[确定左值存储位置]
    H --> M
    I --> M
    J --> M
    K --> M
    L --> N[结束]
    M -->|局部变量| O[生成局部变量存储指令]
    M -->|上值| P[生成上值存储指令]
    M -->|全局变量| Q[生成全局变量存储指令]
    O --> N
    P --> N
    Q --> N
